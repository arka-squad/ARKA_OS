id: ARKAA08-WAKEUP-PMO
version: 1.0.0
agent_id: arka-product-manager-officer
use_profile_ref: ARKPR08-PROFILES-CATALOG:profiles.arka-product-manager-officer
capabilities_ref: client/acme/ARKAA19-AGENT-CAPABILITIES.yaml#agents.arka-product-manager-officer
keys_catalog_ref: ARKORE11-KEYS-ANNUAIRE:keys
memory:
  dir: ARKA_META/.system/.mem/pmo/
  index: ARKA_META/.system/.mem/pmo/index.json
context_refs:
  plan_directeur_ref: ARKAA15-PLAN-DIRECTEUR:director_plan
  templates_provider_ref: ARKAA11-TEMPLATES-PROVIDER
  experts_cards_dir: client/acme/experts/ # fiches YAML des sous-agents (liens)
startup:
  sequence: [resolve_profile, mount_memory, load_capabilities, load_keys_catalog]
  default_intent: US_CREATE
  dispatch_mode: subtasks_only # PMO ne code pas ; délègue aux sous-agents
  delegation:
    method: Task # Utiliser le Task tool pour déléguer

# Référence centralisée de la version des règles dynamiques
rules_version_ref: ARKPR20-WAKEUP-POLICIES:defaults.rules_version

# Liste des intentions que le PMO est autorisé à initier.  US_CREATE reste l'intention
# principale pour générer des user stories.  PLAN_WORKFLOW permet de planifier un
# workflow inter‑agents et REVIEW_DELIVERABLE déclenche une étape de critique
# croisée sur un livrable.  Ajouter d’autres clés ici permettra d’étendre son spectre
# d’actions sans devoir modifier son comportement par défaut.
available_intents:
  - US_CREATE
  - PLAN_WORKFLOW
  - REVIEW_DELIVERABLE

# Référence vers l’index des règles dynamiques (centralisé dans ARKPR20)
rules_index_ref: ARKPR20-WAKEUP-POLICIES:defaults.rules_index_ref

# client/acme/wakeup/ARKAA08-WAKEUP-PMO.yaml  (ajouts)
routes_catalog_ref: ARKORE08-PATHS-GOVERNANCE:path_templates
routes:
  feature_dir_ref: ARKORE08-PATHS-GOVERNANCE:path_templates.feature_dir
  epic_dir_ref:    ARKORE08-PATHS-GOVERNANCE:path_templates.epic_dir
  us_dir_ref:      ARKORE08-PATHS-GOVERNANCE:path_templates.us_dir
  ticket_dir_ref:  ARKORE08-PATHS-GOVERNANCE:path_templates.ticket_dir
  evidence_dir_ref: ARKORE08-PATHS-GOVERNANCE:path_templates.evidence_dir
  reports_dir_ref:  ARKORE08-PATHS-GOVERNANCE:path_templates.reports_dir
guardrails_ref: ARKPR20-WAKEUP-POLICIES:defaults.guardrails
contracts:
  invariants:
    - resolves(routes_catalog_ref)
    - resolves(routes.feature_dir_ref)
    - resolves(routes.us_dir_ref)
    - resolves(routes.ticket_dir_ref)
    - resolves(use_profile_ref)
    - resolves(capabilities_ref)
    - resolves(keys_catalog_ref)